name: Run Court Auction Crawler

on:
  push:
      branches:
        - main  # main 브랜치에 푸시 시 실행
    schedule:
        # 매일 12시간마다 실행
        - cron: '0 */12 * * *'

jobs:
    run-crawler:
        runs-on: ubuntu-latest

        steps:
            # 리포지토리를 체크아웃
            - name: Checkout repository
              uses: actions/checkout@v3

            # Python 환경 설정
            - name: Setup Python
              uses: actions/setup-python@v4
              with:
                  python-version: '3.12' # 원하는 Python 버전 지정

            # 의존성 설치
            - name: Install dependencies
              run: |
                  python -m pip install --upgrade pip
                  pip install -r requirements.txt

            # 크롤러 실행
            - name: Run crawler
              run: python courtauction.py
